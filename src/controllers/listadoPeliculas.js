let peliculas=[
    {
        nombre:"Hallowen La Noche Final",
        duracion:120,
        poster:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0",
        sinopsis:"Cuatro años después de la desaparición de Michael Myers, el joven Corey lo encuentra maltrecho en las alcantarillas. Poco a poco, se establece un extraño vínculo entre estos dos personajes unidos por la venganza y la locura",
        banner:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0"

    },
    {
        nombre:"La Reencarnacion Del Demonio",
        duracion:90,
        poster:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/jeeppers.jpg?alt=media&token=c6c07002-c476-4095-900f-011047e967dc",
        sinopsis:"Laine y Chase acuden a un festival temático de horror. Allí, ella empieza a tener premoniciones que auguran el retorno de un monstruo alado que despierta cada 23 años sediento de sangre.",
        banner: "https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0"
    },
    {
        nombre:"Minions",
        duracion:85,
        poster:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/minions2posternuevo.jpg?alt=media&token=dc7c97ca-ebb7-4342-b0c9-a9fd7b0f1af1",
        sinopsis:"En los años 70, Gru crece siendo un gran admirador de 'Los salvajes seis', un supergrupo de villanos. Para demostrarles que puede ser malvado, Gru idea un plan con la esperanza de formar parte de la banda. Por suerte, cuenta con la ayuda de sus fieles seguidores, los Minions, siempre dispuestos a sembrar el caos.",
        banner:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0"
    },
    {
        nombre:"Tadeo",
        duracion:104,
        poster:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/tadeo3nuevoposter.jpg?alt=media&token=3b31d4c0-3c0b-4317-ba8a-fc47a47e2a84",
        sinopsis:"A Tadeo le encantaría que sus colegas arqueólogos le aceptasen como a uno más, pero siempre acaba liándola: destroza un sarcófago y desata un conjuro que pone en peligro la vida de sus amigos, Momia, Jeff y Belzoni. Con todos en contra y solo ayudado por Sara, Tadeo emprenderá una huida llena de aventuras para encontrar la manera de acabar con la maldición de la momia.",
        banner:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0"
    },
    {
        nombre: "Black Adam",
        duracion:125,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaandrea.appspot.com/o/Black_adam.jpg?alt=media&token=2578557b-4f4d-494d-85cb-e54dd6d691e9",
        sinopsis:"Casi 5.000 años después de haber sido dotado de los poderes omnipotentes de los antiguos dioses -y encarcelado con la misma rapidez-, Black Adam (Johnson) es liberado de su tumba terrenal, listo para desatar su forma única de justicia en el mundo moderno.",
        banner:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0"
    },
    {
        nombre: "Super Mascotas",
        duracion:90,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaandrea.appspot.com/o/SUPERMASCOTASNUEVO.jpg?alt=media&token=ba9cb72d-8187-4e38-b0e6-7ea554b59871",
        sinopsis:"El superperro Krypto une a un grupo de divertidos y descerebrados animales para que lo ayuden a rescatar a los superhéroes de la Liga de la Justicia, que han sido secuestrados.",
        banner:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0"
    },
    {
        nombre: "Sonrie",
        duracion:95,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaandrea.appspot.com/o/SONRIE1.jpg?alt=media&token=0f76f907-5e1c-419f-81d1-37aa573ca47f",
        sinopsis:"Tras presencia el dramático incidente sufrido por un paciente, la Dra. Cotter empieza a experimentar hechos aterradores sin explicación aparente. A medida que el horror se adueña de su vida, comprende que la respuesta está en su propio pasado.",
        banner:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0"
    },
    {
        nombre: "La Mujer Rey",
        duracion:115,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaandrea.appspot.com/o/LA%20MUJERREYNUEVOPOSTER1.jpg?alt=media&token=96779f66-7383-4fad-bc86-eef7cc31ce79",
        sinopsis:"En la década de 1820, en África, una unidad militar exclusivamente femenina del reino de Dahomey se prepara para luchar contra las tropas invasoras del Imperio de Oyo, cuyo propósito es esclavizar a la población conquistada.",
        banner:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0"
    },
    {
        nombre: "La Jauria",
        duracion:87,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaandrea.appspot.com/o/LA%20JAURIA.jpg?alt=media&token=ea2334ca-fa4d-47f4-9f66-04917aa69c7e",
        sinopsis:"En un centro de rehabilitación experimental en medio de la selva, Eliú paga una sentencia por asesinato. Cuando su mejor amigo y cómplice es trasladado al mismo lugar, los jóvenes deberán reconstruir su crimen y enfrentar un pasado del que Eliú se quiere alejar. En medio de terapias y trabajos forzados, Eliú se enfrentará a la oscuridad de la naturaleza humana y tratará de escapar de la suya antes de que sea demasiado tarde.",
        banner:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0"
    },
    {
        nombre: "Erase Una Vez Un Genio",
        duracion:110,
        poster:"https://firebasestorage.googleapis.com/v0/b/cinemaandrea.appspot.com/o/ERASEUNAVEZUNGENIO.jpg?alt=media&token=f7690869-d3cb-4f02-b6f9-ae95fc69f92c",
        sinopsis:"Mientras asiste a una conferencia en Estambul, la doctora Binnie se encuentra con un genio que le ofrece tres deseos a cambio de libertad. Primero, la académica cree que está alucinando; después, como experta en mitos, sabe que la oferta es engañosa.",
        banner:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0"
    }
]

let estrenos=[
    {
        nombre:"Hallowen La Noche Final 2",
        duracion:120,
        poster:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0",
        sinopsis:"Cuatro años después de la desaparición de Michael Myers, el joven Corey lo encuentra maltrecho en las alcantarillas. Poco a poco, se establece un extraño vínculo entre estos dos personajes unidos por la venganza y la locura",
        banner:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0"

    },
    {
        nombre:"La Reencarnacion Del Demonio 2",
        duracion:90,
        poster:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/jeeppers.jpg?alt=media&token=c6c07002-c476-4095-900f-011047e967dc",
        sinopsis:"Laine y Chase acuden a un festival temático de horror. Allí, ella empieza a tener premoniciones que auguran el retorno de un monstruo alado que despierta cada 23 años sediento de sangre.",
        banner: "https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0"
    },
    {
        nombre:"Minions 2",
        duracion:85,
        poster:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/minions2posternuevo.jpg?alt=media&token=dc7c97ca-ebb7-4342-b0c9-a9fd7b0f1af1",
        sinopsis:"En los años 70, Gru crece siendo un gran admirador de 'Los salvajes seis', un supergrupo de villanos. Para demostrarles que puede ser malvado, Gru idea un plan con la esperanza de formar parte de la banda. Por suerte, cuenta con la ayuda de sus fieles seguidores, los Minions, siempre dispuestos a sembrar el caos.",
        banner:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0"
    },
    {
        nombre:"Tadeo2",
        duracion:104,
        poster:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/tadeo3nuevoposter.jpg?alt=media&token=3b31d4c0-3c0b-4317-ba8a-fc47a47e2a84",
        sinopsis:"A Tadeo le encantaría que sus colegas arqueólogos le aceptasen como a uno más, pero siempre acaba liándola: destroza un sarcófago y desata un conjuro que pone en peligro la vida de sus amigos, Momia, Jeff y Belzoni. Con todos en contra y solo ayudado por Sara, Tadeo emprenderá una huida llena de aventuras para encontrar la manera de acabar con la maldición de la momia.",
        banner:"https://firebasestorage.googleapis.com/v0/b/personalsoft-a1bec.appspot.com/o/hallowen%20ultimo%20poster.jpg?alt=media&token=4cc9a9c8-c7bb-4462-9675-2dd057e889f0"
    }
]

//creamos una referencia al espacio html donde queremos hacer el render(pintar etiquetas)
let etiquetaFila=document.getElementById("fila")

//si ya tengo datos que normalmente llegan al front como un arreglo de objetos debemos recorrer  y depurar dicha informacion

peliculas.forEach(function(pelicula){
    //para pintar la informacion de cada pelicula debemos aplicar una tecnica conocida como traversing
    //traversing=crear etiquetas de html desde js
    let columna=document.createElement("div")
    columna.classList.add("col")
    
    let tarjeta=document.createElement("div")
    tarjeta.classList.add("card","h-100","shadow")
    
    let poster=document.createElement("img")
    poster.classList.add("img-fluid","w-100")
    poster.src=pelicula.poster

    let nombre=document.createElement("h3")
    nombre.classList.add("text-center","fw-bold")
    nombre.textContent=pelicula.nombre

    let duracion=document.createElement("h5")
    duracion.classList.add("text-center","fw-blod")
    duracion.textContent="Duración: "+pelicula.duracion+" Minutos"  

    let sinopsis=document.createElement("p")
    sinopsis.classList.add("d-none")
    sinopsis.textContent=pelicula.sinopsis

    //banner
    let banner=document.createElement("img")
    banner.classList.add("d-none","img-fluid","w-100")
    //banner.id=baner
    banner.src=pelicula.banner

    //padres e hijos(gerarquia de etiquetas)
    etiquetaFila.appendChild(columna)
    columna.appendChild(tarjeta)  
    tarjeta.appendChild(poster)
    tarjeta.appendChild(nombre)
    tarjeta.appendChild(duracion)
    tarjeta.appendChild(sinopsis)
    tarjeta.appendChild(banner)
})

//escuchando el evento de clic en alguna pelicula dela cartelera
let peliculaSeleccionada={}
etiquetaFila.addEventListener("click",function(evento){
    if(evento.target.classList.contains("img-fluid")){
        //obteniendo los datos de la pelicula
        peliculaSeleccionada.imagen=evento.target.parentElement.querySelector("img").src
        peliculaSeleccionada.titulo=evento.target.parentElement.querySelector("h3").textContent
        peliculaSeleccionada.duracion=evento.target.parentElement.querySelector("h5").textContent
        peliculaSeleccionada.sinopsis=evento.target.parentElement.querySelector("p").textContent
        peliculaSeleccionada.banner=evento.target.parentElement.querySelector("img").src
        //enviando nuestros datos de la pelicula seleccionada a la memoria
        localStorage.setItem("pelicula",JSON.stringify(peliculaSeleccionada))

        window.location.href="./src/views/verinfopelicula.html"
    }
})

//se crea el espacio para los proximos estrenos

let Fila2=document.getElementById("fila2")
estrenos.forEach(function(estreno){

    let columna2=document.createElement("div")
    columna2.classList.add("col")
    
    let tarjeta2=document.createElement("div")
    tarjeta2.classList.add("card","h-100","shadow")
    
    let poster2=document.createElement("img")
    poster2.classList.add("img-fluid","w-100")
    poster2.src=estreno.poster

    let nombre2=document.createElement("h3")
    nombre2.classList.add("text-center","fw-bold")
    nombre2.textContent=estreno.nombre

    let duracion2=document.createElement("h5")
    duracion2.classList.add("text-center","fw-blod")
    duracion2.textContent="Duración: "+estreno.duracion+" Minutos"

    //padres e hijos(gerarquia de etiquetas)
    Fila2.appendChild(columna2)
    columna2.appendChild(tarjeta2)  
    tarjeta2.appendChild(poster2)
    tarjeta2.appendChild(nombre2)
    tarjeta2.appendChild(duracion2)
})
let estrenoSeleccionado={}
//
// Fila2.addEventListener("click",function(event){
//     if(event.target.classList.contains("img-fluid")){
//         //obteniendo los datos de la pelicula
//         estrenoSeleccionado.imagen=event.target.parentElement.querySelector("img").src
//         estrenoSeleccionado.titulo=event.target.parentElement.querySelector("h3").textContent
//         estrenoSeleccionado.duracion=event.target.parentElement.querySelector("h5").textContent
//         estrenoSeleccionado.sinopsis=event.target.parentElement.querySelector("p").textContent
//         //estrenoSeleccionado.banner=evento.target.parentElement.querySelector("img").src
//         //enviando nuestros datos de la pelicula seleccionada a la memoria
//         localStorage.setItem("estreno",JSON.stringify(estrenoSeleccionado))
//         window.location.href="./src/views/verinfopelicula.html"
//     }
// })